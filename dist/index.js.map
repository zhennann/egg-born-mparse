{"version":3,"file":"index.js","mappings":"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","sources":["webpack://egg-born-mparse/webpack/bootstrap","webpack://egg-born-mparse/webpack/runtime/define property getters","webpack://egg-born-mparse/webpack/runtime/hasOwnProperty shorthand","webpack://egg-born-mparse/webpack/runtime/make namespace object","webpack://egg-born-mparse/./src/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const PREFIX_A = '/api/';\nconst PREFIX_B = 'egg-born-module-';\nconst PREFIX_C = './egg-born-module-';\nconst PREFIX_D = './';\n\nexport default {\n  // aa-hello aa/hello\n  //   first check / then -\n  parseInfo(moduleName, type = 'module') {\n    if (!moduleName) return null;\n    if (moduleName.indexOf('://') > -1) return null;\n    if (moduleName.charAt(0) === '/') moduleName = moduleName.substr(1);\n    let parts = moduleName.split('/').filter(item => item);\n    if (parts.length < 2) {\n      parts = moduleName.split('-').filter(item => item);\n      if (parts.length < 2) return null;\n      if (parts.length >= 5) parts = parts.slice(3);\n    }\n    if (type === 'suite') {\n      return {\n        pid: parts[0],\n        name: parts[1],\n        fullName: `egg-born-suite-${parts[0]}-${parts[1]}`,\n        relativeName: `${parts[0]}-${parts[1]}`,\n      };\n    }\n    return {\n      pid: parts[0],\n      name: parts[1],\n      fullName: `egg-born-module-${parts[0]}-${parts[1]}`,\n      relativeName: `${parts[0]}-${parts[1]}`,\n      url: `${parts[0]}/${parts[1]}`,\n      sync: parts[2] === 'sync',\n      monkey: parts[2] === 'monkey',\n    };\n  },\n  // /api/aa/hello/home/index\n  // egg-born-module-aa-hello\n  // ./aa-hello/\n  // ./egg-born-module-aa-hello/\n  parseName(moduleUrl) {\n    if (!moduleUrl) return null;\n    if (moduleUrl.indexOf('/api/static/') === 0) {\n      moduleUrl = '/api/' + moduleUrl.substring('/api/static/'.length);\n    }\n    if (moduleUrl.indexOf(PREFIX_A) === 0) {\n      const posA = PREFIX_A.length;\n      const posB = moduleUrl.indexOf('/', posA) + 1;\n      if (posB === -1) return null;\n      const posC = moduleUrl.indexOf('/', posB);\n      if (posC === -1) return null;\n      return moduleUrl.substring(posA, posC);\n    } else if (moduleUrl.indexOf(PREFIX_B) === 0) {\n      return this._parseName(moduleUrl, PREFIX_B);\n    } else if (moduleUrl.indexOf(PREFIX_C) === 0) {\n      return this._parseName(moduleUrl, PREFIX_C);\n    } else if (moduleUrl.indexOf(PREFIX_D) === 0) {\n      return this._parseName(moduleUrl, PREFIX_D);\n    }\n    return null;\n  },\n  _parseName(moduleUrl, prefix) {\n    const posA = prefix.length;\n    let posB = moduleUrl.indexOf('/', posA);\n    if (posB === -1) posB = moduleUrl.length;\n    return moduleUrl.substring(posA, posB);\n  },\n};\n"],"names":["PREFIX_A","PREFIX_B","PREFIX_C","PREFIX_D","parseInfo","moduleName","type","indexOf","charAt","substr","parts","split","filter","item","length","slice","pid","name","fullName","relativeName","url","sync","monkey","parseName","moduleUrl","substring","posA","posB","posC","_parseName","prefix"],"sourceRoot":""}