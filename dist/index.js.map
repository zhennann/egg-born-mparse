{"version":3,"file":"index.js","mappings":"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","sources":["webpack://egg-born-mparse/webpack/bootstrap","webpack://egg-born-mparse/webpack/runtime/define property getters","webpack://egg-born-mparse/webpack/runtime/hasOwnProperty shorthand","webpack://egg-born-mparse/webpack/runtime/make namespace object","webpack://egg-born-mparse/./src/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const PREFIX_A = '/api/';\nconst PREFIX_B = 'egg-born-module-';\nconst PREFIX_C = './egg-born-module-';\nconst PREFIX_D = './';\n\nexport default {\n  // aa-hello aa/hello\n  //   first check / then -\n  parseInfo(moduleName, type = 'module') {\n    if (!moduleName) return null;\n    if (moduleName.indexOf('://') > -1) return null;\n    if (moduleName.charAt(0) === '/') moduleName = moduleName.substr(1);\n    let parts = moduleName.split('/').filter(item => item);\n    if (parts.length < 2) {\n      parts = moduleName.split('-').filter(item => item);\n      if (parts.length < 2) return null;\n    }\n    if (type === 'suite') {\n      return {\n        pid: parts[0],\n        name: parts[1],\n        fullName: `egg-born-suite-${parts[0]}-${parts[1]}`,\n        relativeName: `${parts[0]}-${parts[1]}`,\n      };\n    }\n    return {\n      pid: parts[0],\n      name: parts[1],\n      fullName: `egg-born-module-${parts[0]}-${parts[1]}`,\n      relativeName: `${parts[0]}-${parts[1]}`,\n      url: `${parts[0]}/${parts[1]}`,\n      sync: parts[2] === 'sync',\n      monkey: parts[2] === 'monkey',\n    };\n  },\n  // /api/aa/hello/home/index\n  // egg-born-module-aa-hello\n  // ./aa-hello/\n  // ./egg-born-module-aa-hello/\n  parseName(moduleUrl) {\n    if (!moduleUrl) return null;\n    if (moduleUrl.indexOf(PREFIX_A) === 0) {\n      const posA = PREFIX_A.length;\n      const posB = moduleUrl.indexOf('/', posA) + 1;\n      if (posB === -1) return null;\n      const posC = moduleUrl.indexOf('/', posB);\n      if (posC === -1) return null;\n      return moduleUrl.substring(posA, posC);\n    } else if (moduleUrl.indexOf(PREFIX_B) === 0) {\n      return this._parseName(moduleUrl, PREFIX_B);\n    } else if (moduleUrl.indexOf(PREFIX_C) === 0) {\n      return this._parseName(moduleUrl, PREFIX_C);\n    } else if (moduleUrl.indexOf(PREFIX_D) === 0) {\n      return this._parseName(moduleUrl, PREFIX_D);\n    }\n    return null;\n  },\n  _parseName(moduleUrl, prefix) {\n    const posA = prefix.length;\n    let posB = moduleUrl.indexOf('/', posA);\n    if (posB === -1) posB = moduleUrl.length;\n    return moduleUrl.substring(posA, posB);\n  },\n};\n"],"names":["PREFIX_A","PREFIX_B","PREFIX_C","PREFIX_D","parseInfo","moduleName","type","indexOf","charAt","substr","parts","split","filter","item","length","pid","name","fullName","relativeName","url","sync","monkey","parseName","moduleUrl","posA","posB","posC","substring","_parseName","prefix"],"sourceRoot":""}